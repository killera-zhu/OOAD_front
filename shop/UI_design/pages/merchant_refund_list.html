<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é€€æ¬¾æŸ¥è¯¢ - å•†æˆ·ç®¡ç†åå°</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <div class="header-title">å•†æˆ·ç®¡ç†åå°</div>
    <nav>
      <span class="user-icon">ğŸ‘¤</span>
      <a href="#" class="logout-link">é€€å‡ºç™»å½•</a>
    </nav>
  </header>

  <div class="container">
    <div id="sidebar-container"></div>

    <div class="main">
      <h2>é€€æ¬¾æŸ¥è¯¢</h2>

      <div class="filter-section">
        <div class="filter-group">
          <input type="text" id="searchRefund" placeholder="è¾“å…¥è®¢å•å·/é¡¾å®¢å§“å/çŠ¶æ€/æ—¶é—´">
          <button class="btn btn-search" onclick="queryRefund()">æŸ¥è¯¢</button>
        </div>
      </div>

      <table class="data-table">
        <thead>
          <tr>
            <th>è®¢å•å·</th>
            <th>é€€æ¬¾é‡‘é¢</th>
            <th>é€€æ¬¾æ—¶é—´</th>
            <th>é€€æ¬¾çŠ¶æ€</th>
            <th>é€€æ¬¾æ–¹å¼</th>
            <th>æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>OD2025002</td>
            <td>ï¿¥1999</td>
            <td>2025-10-22</td>
            <td><span class="status approved">å·²é€€æ¬¾</span></td>
            <td>å¾®ä¿¡æ”¯ä»˜</td>
            <td><button class="btn btn-view" onclick="openRefundModal('OD2025002')">æŸ¥çœ‹è¯¦æƒ…</button></td>
          </tr>
          <tr>
            <td>OD2025004</td>
            <td>ï¿¥599</td>
            <td>2025-10-23</td>
            <td><span class="status pending">é€€æ¬¾ä¸­</span></td>
            <td>æ”¯ä»˜å®</td>
            <td><button class="btn btn-view" onclick="openRefundModal('OD2025004')">æŸ¥çœ‹è¯¦æƒ…</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- é€€æ¬¾è¯¦æƒ…å¼¹çª— -->
  <div class="modal-overlay" id="refundModal" style="display:none;">
    <div class="modal-content">
      <h3>é€€æ¬¾è¯¦æƒ…</h3>
      <table class="detail-table">
        <tr><th>è®¢å•å·ï¼š</th><td id="refundOrderId">OD2025002</td></tr>
        <tr><th>é€€æ¬¾é‡‘é¢ï¼š</th><td id="refundAmount">ï¿¥1999</td></tr>
        <tr><th>é€€æ¬¾æ—¶é—´ï¼š</th><td id="refundTime">2025-10-22 10:15:30</td></tr>
        <tr><th>é€€æ¬¾çŠ¶æ€ï¼š</th><td id="refundStatus"><span class="status approved">å·²é€€æ¬¾</span></td></tr>
        <tr><th>é€€æ¬¾æ–¹å¼ï¼š</th><td id="refundMethod">å¾®ä¿¡æ”¯ä»˜</td></tr>
        <tr><th>é€€æ¬¾åŸå› ï¼š</th><td id="refundReason">å•†å“ç ´æŸ</td></tr>
        <tr><th>äº¤æ˜“æµæ°´å·ï¼š</th><td id="refundTransactionId">RF20250002</td></tr>
      </table>
      <div class="detail-actions">
        <button class="btn btn-back" onclick="closeModal('refundModal')">å…³é—­</button>
      </div>
    </div>
  </div>

  <script src="../script.js"></script>
  <script>
    fetch('../sidebar.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
        toggleMenu('paymentMenu');
      });

    function openRefundModal(orderId) {
      document.getElementById('refundModal').style.display = 'flex';
      document.getElementById('refundOrderId').textContent = orderId;
    }

    function closeModal(id) {
      document.getElementById(id).style.display = 'none';
    }

    function queryRefund() {
      const keyword = document.getElementById('searchRefund').value;
      alert('æ¨¡æ‹ŸæŸ¥è¯¢é€€æ¬¾è®°å½•: ' + keyword);
    }
  </script>
</body>
</html>
