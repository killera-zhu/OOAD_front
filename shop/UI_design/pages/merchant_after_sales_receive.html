<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é€€è´§éªŒæ”¶ - å•†æˆ·ç®¡ç†åå°</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <div class="header-title">å•†æˆ·ç®¡ç†åå°</div>
    <nav>
      <span class="user-icon">ğŸ‘¤</span>
      <a href="#" class="logout-link">é€€å‡ºç™»å½•</a>
    </nav>
  </header>

  <div class="container">
    <div id="sidebar-container"></div>

    <div class="main">
      <h2>é€€è´§éªŒæ”¶</h2>

      <div class="filter-section">
        <div class="filter-group">
          <input type="text" id="searchReceive" placeholder="è¾“å…¥å¿«é€’å•å·">
          <button class="btn btn-search" onclick="queryReceive()">æŸ¥è¯¢</button>
        </div>
      </div>

      <table class="data-table">
        <thead>
          <tr>
            <th>å”®åç¼–å·</th>
            <th>å•†å“åç§°</th>
            <th>é¡¾å®¢å§“å</th>
            <th>å”®åç±»å‹</th>
            <th>è¿å•å·</th>
            <th>çŠ¶æ€</th>
            <th>æ“ä½œ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>AS2025001</td>
            <td>æ™ºèƒ½æ‰‹æœº</td>
            <td>å¼ ä¸‰</td>
            <td>é€€è´§</td>
            <td>YD10001</td>
            <td><span class="status pending">å¾…éªŒæ”¶</span></td>
            <td>
              <button class="btn btn-accept" onclick="receiveGoods(this)">éªŒæ”¶</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="../script.js"></script>
  <script>
    fetch('../sidebar.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
        const menu = document.querySelector('a[onclick*="afterSalesMenu"]');
        if (menu) {
          menu.classList.add('active');
          toggleMenu('afterSalesMenu');
        }
      });

    function receiveGoods(btn) {
      const row = btn.closest('tr');
      const statusCell = row.querySelector('.status');
      statusCell.textContent = 'å·²éªŒæ”¶';
      statusCell.className = 'status approved';
      btn.disabled = true;
      btn.textContent = 'å·²éªŒæ”¶';
      alert('éªŒæ”¶å®Œæˆ');
    }

    function queryReceive() {
      const keyword = document.getElementById('searchReceive').value;
      alert('æ¨¡æ‹ŸæŸ¥è¯¢é€€å›å•†å“: ' + keyword);
    }
  </script>
</body>
</html>
